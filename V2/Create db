CREATE TABLE Players (
  ID INTEGER PRIMARY KEY,
  Name VARCHAR(255)
);

CREATE TABLE EloRatings (
  ID INTEGER PRIMARY KEY,
  PlayerID INTEGER,
  Rating INTEGER,
  Date TIMESTAMP,
  FOREIGN KEY (PlayerID) REFERENCES Players(ID)
);

CREATE TABLE Teams (
  ID INTEGER PRIMARY KEY,
  Player1ID INTEGER,
  Player2ID INTEGER,
  FOREIGN KEY (Player1ID) REFERENCES Players(ID),
  FOREIGN KEY (Player2ID) REFERENCES Players(ID)
);

CREATE TABLE Matches (
  ID INTEGER PRIMARY KEY,
  Date TIMESTAMP,
  Team1ID INTEGER,
  Team2ID INTEGER,
  Team1Score INTEGER,
  Team2Score INTEGER,
  FOREIGN KEY (Team1ID) REFERENCES Teams(ID),
  FOREIGN KEY (Team2ID) REFERENCES Teams(ID)
);

CREATE TABLE MatchPlayers (
  ID INTEGER PRIMARY KEY,
  MatchID INTEGER,
  PlayerID INTEGER,
  FOREIGN KEY (MatchID) REFERENCES Matches(ID),
  FOREIGN KEY (PlayerID) REFERENCES Players(ID)
);


CREATE SEQUENCE teams_id_seq
  START WITH 1
  INCREMENT BY 1;

  CREATE SEQUENCE players_id_seq START 1;
CREATE SEQUENCE matches_id_seq START 1;